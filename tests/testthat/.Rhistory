size=text.size,
figPath=image)
if(is.null(image)==FALSE){
unlink("img.png", sep=""))
}
return(cloud)
}
textcloud <- function(words=NULL,
frequency=NULL,
pdf.file=NULL
word.length.min=4,
word.length.max=Inf,
freq.min=10,
freq.max=Inf,
image=NULL,
text.size=0.5){
if(is.null(words)==FALSE){
data <- data.frame(word=words)
if(is.null(frequency)){
data$freq <- 1
}else{
data$freq <- frequency
}
}else if(is.null(pdf.file)==FALSE){
data <- extract_type(file)
}else{
print("No correct input. Check ?textcloud")
}
if(is.null(image)==FALSE){
writePNG(masks[image], "img.png")
}
cloud <- wordcloud2(data=text,
size=text.size,
figPath=image)
if(is.null(image)==FALSE){
unlink("img.png", sep=""))
}
return(cloud)
}
textcloud <- function(words=NULL,
frequency=NULL,
pdf.file=NULL
word.length.min=4,
word.length.max=Inf,
freq.min=10,
freq.max=Inf,
image=NULL,
text.size=0.5){
if(is.null(words)==FALSE){
data <- data.frame(word=words)
if(is.null(frequency)){
data$freq <- 1
}else{
data$freq <- frequency
}
}else if(is.null(pdf.file)==FALSE){
data <- extract_type(file)
}else{
print("No correct input. Check ?textcloud")
}
}
textcloud <- function(words=NULL,
frequency=NULL,
pdf.file=NULL,
word.length.min=4,
word.length.max=Inf,
freq.min=10,
freq.max=Inf,
image=NULL,
text.size=0.5){
if(is.null(words)==FALSE){
data <- data.frame(word=words)
if(is.null(frequency)){
data$freq <- 1
}else{
data$freq <- frequency
}
}else if(is.null(pdf.file)==FALSE){
data <- extract_type(file)
}else{
print("No correct input. Check ?textcloud")
}
if(is.null(image)==FALSE){
writePNG(masks[image], "img.png")
}
cloud <- wordcloud2(data=text,
size=text.size,
figPath=image)
if(is.null(image)==FALSE){
unlink("img.png", sep=""))
}
return(cloud)
}
textcloud <- function(words=NULL,
frequency=NULL,
pdf.file=NULL,
word.length.min=4,
word.length.max=Inf,
freq.min=10,
freq.max=Inf,
image=NULL,
text.size=0.5){
if(is.null(words)==FALSE){
data <- data.frame(word=words)
if(is.null(frequency)){
data$freq <- 1
}else{
data$freq <- frequency
}
}else if(is.null(pdf.file)==FALSE){
data <- extract_type(file)
}else{
print("No correct input. Check ?textcloud")
}
if(is.null(image)==FALSE){
writePNG(masks[image], "img.png")
}
cloud <- wordcloud2(data=text,
size=text.size,
figPath=image)
if(is.null(image)==FALSE){
unlink("img.png")
}
return(cloud)
}
setwd("D:/Programs/Dropbox/RECHERCHE/DOCUMENTS/R_packages/neuropsychology.R/tests/testthat")
source("test-extract_text.R")
install.packages("devtools")
source("test-extract_text.R")
library(neuropsychology)
text <- extract_text()
library(png)
library(tm)
session_info()
sessionInfo()
source("test-extract_text.R")
install.packages("devtools")
setwd("D:/Programs/Dropbox/RECHERCHE/DOCUMENTS/R_packages/neuropsychology.R/tests/testthat")
install.packages("devtools")
library("devtools")
install_github("neuropsychology/neuropsychology.R", dependencies=TRUE)
text <- extract_text()
library(neuropsychology)
text <- extract_text()
textcloud <- function(words=NULL,
frequency=NULL,
pdf.file=NULL,
word.length.min=4,
word.length.max=Inf,
freq.min=10,
freq.max=Inf,
image=NULL,
text.size=0.5){
if(is.null(words)==FALSE){
data <- data.frame(word=words)
if(is.null(frequency)){
data$freq <- 1
}else{
data$freq <- frequency
}
}else if(is.null(pdf.file)==FALSE){
data <- extract_type(file)
}else{
print("No correct input. Check ?textcloud")
}
if(is.null(image)==FALSE){
writePNG(masks[image], "img.png")
}
cloud <- wordcloud2(data=text,
size=text.size,
figPath=image)
if(is.null(image)==FALSE){
unlink("img.png")
}
return(cloud)
}
textcloud(pdf.file=".")
textcloud <- function(pdf.file=".",
words=NULL,
frequency=NULL,
word.length.min=4,
word.length.max=Inf,
freq.min=10,
freq.max=Inf,
image=NULL,
text.size=0.5){
if(is.null(words)==FALSE){
data <- data.frame(word=words)
if(is.null(frequency)){
data$freq <- 1
}else{
data$freq <- frequency
}
}else if(is.null(pdf.file)==FALSE){
data <- extract_text(file)
}else{
print("No correct input. Check ?textcloud")
}
if(is.null(image)==FALSE){
writePNG(masks[image], "img.png")
}
cloud <- wordcloud2(data=text,
size=text.size,
figPath=image)
if(is.null(image)==FALSE){
unlink("img.png")
}
return(cloud)
}
textcloud(pdf.file=".")
textcloud()
textcloud <- function(pdf.file=".",
words=NULL,
frequency=NULL,
word.length.min=4,
word.length.max=Inf,
freq.min=10,
freq.max=Inf,
image=NULL,
text.size=0.5){
if(is.null(words)==FALSE){
data <- data.frame(word=words)
if(is.null(frequency)){
data$freq <- 1
}else{
data$freq <- frequency
}
}else if(is.null(pdf.file)==FALSE){
data <- extract_text(pdf.file)
}else{
print("No correct input. Check ?textcloud")
}
if(is.null(image)==FALSE){
writePNG(masks[image], "img.png")
}
cloud <- wordcloud2(data=text,
size=text.size,
figPath=image)
if(is.null(image)==FALSE){
unlink("img.png")
}
return(cloud)
}
textcloud()
library(wordcloud2)
sessionInfo()
install.packages("devtools")
library("devtools")
install_github("neuropsychology/neuropsychology.R", dependencies=TRUE)
library(neuropsychology)
textcloud()
textcloud(image="brain1")
install_github("neuropsychology/neuropsychology.R", dependencies=TRUE)
library(neuropsychology)
textcloud()
textcloud(image="brain1")
library(png)
sessionInfo()
extract_text <- function(files=".",
word.length.min=4,
word.length.max=Inf,
freq.min=10,
freq.max=Inf){
#library(tm)
Rpdf <- tm::readPDF(control = list(text = "-layout"))
if(grepl(".pdf",files)){
files <- c(files)
}
else{
files <- list.files(path=files, pattern = "pdf$")
}
text <- tm::Corpus(URISource(files), readerControl = list(reader = Rpdf))
text_clean <- tm::TermDocumentMatrix(text, control = list(removePunctuation = TRUE,
tolower = TRUE,
removeNumbers = TRUE,
stopwords = TRUE,
wordLengths=c(word.length.min,word.length.max)
# stemming = TRUE
# bounds = list(global = c(2, Inf))
))
words <- tm::findFreqTerms(text_clean, lowfreq=freq.min, highfreq=freq.max)
words <- as.data.frame(inspect(text_clean[words,]))
data <- data.frame(word=rownames(words),freq=rowSums(words))
data <- arrange(data, desc(freq))
}
install_github("neuropsychology/neuropsychology.R", dependencies=TRUE)
library(neuropsychology)
textcloud()
setwd("D:/Programs/Dropbox/RECHERCHE/DOCUMENTS/R_packages/neuropsychology.R/tests/testthat")
library("devtools")
install_github("neuropsychology/neuropsychology.R", dependencies=TRUE)
library(neuropsychology)
textcloud()
text <- extract_text()
pdf.file="."
words=NULL
frequency=NULL
word.length.min=4
word.length.max=Inf
freq.min=10
freq.max=Inf
image=NULL
text.size=0.5
if(is.null(words)==FALSE){
data <- data.frame(word=words)
if(is.null(frequency)){
data$freq <- 1
}else{
data$freq <- frequency
}
}else if(is.null(pdf.file)==FALSE){
data <- extract_text(pdf.file)
}else{
print("No correct input. Check ?textcloud")
}
if(is.null(image)==FALSE){
png::writePNG(masks[image], "img.png")
}
cloud <- wordcloud2:wordcloud2(data=text,
size=text.size,
figPath=image)
library(wordcloud2)
cloud <- wordcloud2:wordcloud2(data=text,
size=text.size,
figPath=image)
textcloud <- function(pdf.file=".",
words=NULL,
frequency=NULL,
word.length.min=4,
word.length.max=Inf,
freq.min=10,
freq.max=Inf,
image=NULL,
text.size=0.5){
if(is.null(words)==FALSE){
data <- data.frame(word=words)
if(is.null(frequency)){
data$freq <- 1
}else{
data$freq <- frequency
}
}else if(is.null(pdf.file)==FALSE){
data <- extract_text(pdf.file)
}else{
print("No correct input. Check ?textcloud")
}
if(is.null(image)==FALSE){
png::writePNG(masks[image], "img.png")
}
cloud <- wordcloud2:wordcloud2(data=data,
size=text.size,
figPath=image)
if(is.null(image)==FALSE){
unlink("img.png")
}
return(cloud)
}
textcloud()
textcloud <- function(pdf.file=".",
words=NULL,
frequency=NULL,
word.length.min=4,
word.length.max=Inf,
freq.min=10,
freq.max=Inf,
image=NULL,
text.size=0.5){
if(is.null(words)==FALSE){
data <- data.frame(word=words)
if(is.null(frequency)){
data$freq <- 1
}else{
data$freq <- frequency
}
}else if(is.null(pdf.file)==FALSE){
data <- extract_text(pdf.file)
}else{
print("No correct input. Check ?textcloud")
}
if(is.null(image)==FALSE){
png::writePNG(masks[image], "img.png")
}
cloud <- wordcloud2::wordcloud2(data=data,
size=text.size,
figPath=image)
if(is.null(image)==FALSE){
unlink("img.png")
}
return(cloud)
}
textcloud()
textcloud(image="brain1")
masks[image]
masks
masks["brain1"]
textcloud <- function(pdf.file=".",
words=NULL,
frequency=NULL,
word.length.min=4,
word.length.max=Inf,
freq.min=10,
freq.max=Inf,
image=NULL,
text.size=0.5){
if(is.null(words)==FALSE){
data <- data.frame(word=words)
if(is.null(frequency)){
data$freq <- 1
}else{
data$freq <- frequency
}
}else if(is.null(pdf.file)==FALSE){
data <- extract_text(pdf.file)
}else{
print("No correct input. Check ?textcloud")
}
if(is.null(image)==FALSE){
matrix <- as.matrix(masks[image])
png::writePNG(matrix, "img.png")
}
cloud <- wordcloud2::wordcloud2(data=data,
size=text.size,
figPath=image)
if(is.null(image)==FALSE){
unlink("img.png")
}
return(cloud)
}
textcloud(image="brain1")
matrix <- as.matrix(masks[image])
image="brain1"
matrix <- as.matrix(masks[image])
png::writePNG(matrix, "img.png")
matrix <- masks[image]
masks[image][image]
matrix <- masks[image][image]
matrix(masks[image])
as.matrix(masks[image])
masks[image]
matrix <- masks[image]
matrix <- masks[image]
matrix <- masks[image][1]
mat <- masks$brain1
matrix <- masks[[image]]
textcloud <- function(pdf.file=".",
words=NULL,
frequency=NULL,
word.length.min=4,
word.length.max=Inf,
freq.min=10,
freq.max=Inf,
image=NULL,
text.size=0.5){
if(is.null(words)==FALSE){
data <- data.frame(word=words)
if(is.null(frequency)){
data$freq <- 1
}else{
data$freq <- frequency
}
}else if(is.null(pdf.file)==FALSE){
data <- extract_text(pdf.file)
}else{
print("No correct input. Check ?textcloud")
}
if(is.null(image)==FALSE){
png::writePNG(masks[[image]], "img.png")
}
cloud <- wordcloud2::wordcloud2(data=data,
size=text.size,
figPath=image)
if(is.null(image)==FALSE){
unlink("img.png")
}
return(cloud)
}
textcloud(image="brain1")
textcloud <- function(pdf.file=".",
words=NULL,
frequency=NULL,
word.length.min=4,
word.length.max=Inf,
freq.min=10,
freq.max=Inf,
image=NULL,
text.size=0.5){
if(is.null(words)==FALSE){
data <- data.frame(word=words)
if(is.null(frequency)){
data$freq <- 1
}else{
data$freq <- frequency
}
}else if(is.null(pdf.file)==FALSE){
data <- extract_text(pdf.file)
}else{
print("No correct input. Check ?textcloud")
}
if(is.null(image)==FALSE){
png::writePNG(masks[[image]], "img.png")
}
cloud <- wordcloud2::wordcloud2(data=data,
size=text.size,
figPath="img.png")
if(is.null(image)==FALSE){
unlink("img.png")
}
return(cloud)
}
textcloud(image="brain1")
textcloud(image="head1")
textcloud(image="head2")
