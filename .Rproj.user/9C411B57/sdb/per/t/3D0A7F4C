{
    "contents" : "cortable <- function(x, correction=\"none\", type=\"p\"){\n\n  type <- ifelse(type == \"s\", \"spearman\", \"pearson\")\n\n  for (i in names(x)){\n    if (is.numeric(x[,i]) == FALSE){\n      x[,i] = NULL\n    }\n  }\n  x <- as.matrix(x)\n\n\n\n  R <- rcorr(x, type = type)$r\n  p <- rcorr(x, type = type)$P\n  p <- p.adjust(p,method = correction)\n  ## define notions for significance levels; spacing is important.\n  mystars <- ifelse(p < .001, \"***\", ifelse(p < .01, \"** \", ifelse(p < .05, \"* \", \" \")))\n\n  ## trunctuate the matrix that holds the correlations to two decimal\n  R <- format(round(cbind(rep(-1.11, ncol(x)), R), 2))[,-1]\n\n  ## build a new matrix that includes the correlations with their apropriate stars\n  Rnew <- matrix(paste(R, mystars, sep=\"\"), ncol=ncol(x))\n  diag(Rnew) <- paste(diag(R), \" \", sep=\"\")\n  rownames(Rnew) <- colnames(x)\n  colnames(Rnew) <- paste(colnames(x), \"\", sep=\"\")\n\n  ## remove upper triangle\n  Rnew <- as.matrix(Rnew)\n  Rnew[upper.tri(Rnew, diag = TRUE)] <- NA\n  Rnew <- as.data.frame(Rnew)\n\n  ## remove last column and return the matrix (which is now a data frame)\n  Rnew <- cbind(Rnew[1:length(Rnew)-1])\n  return(Rnew)\n}\n",
    "created" : 1472076700693.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3251148209",
    "id" : "3D0A7F4C",
    "lastKnownWriteTime" : 1472125644,
    "path" : "D:/Programs/Dropbox/RECHERCHE/DOCUMENTS/R_packages/neuropsychology.R/R/cortable.R",
    "project_path" : "R/cortable.R",
    "properties" : {
    },
    "relative_order" : 3,
    "source_on_save" : false,
    "type" : "r_source"
}